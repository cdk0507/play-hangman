import{_ as m,o as a,c as r,a as s,t as x,p as _,b as v,d as w,r as f,w as A,v as b,e as k,f as C,g as T,F as p,h as u,n as $}from"./index-84q3p_vv.js";const y={props:["params"],data(){return{text:this.params.text}},methods:{confirm(){this.$emit("confirm",!0)}}},P={class:"bg"},L={class:"content"};function I(t,e,o,l,c,n){return a(),r("div",P,[s("div",L,[s("p",null,x(c.text),1),s("button",{onClick:e[0]||(e[0]=(...h)=>n.confirm&&n.confirm(...h))},"확인")])])}const S=m(y,[["render",I],["__scopeId","data-v-c3dfc5d8"]]),z={props:["params"]},M=t=>(_("data-v-a539a3ed"),t=t(),v(),t),D={class:"bg"},B=M(()=>s("div",{class:"content"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[s("path",{fill:"hsla(160, 100%, 37%, 1)",d:"M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"})])],-1)),H=[B];function j(t,e,o,l,c,n){return a(),r("div",D,H)}const N=m(z,[["render",j],["__scopeId","data-v-a539a3ed"]]),V=w({name:"Hanman",components:{CAlert:S,CLoading:N},props:{},data(){this.getDate();const t=["apple","banana","Orange","Grape","Strawberry","Mango","Pineapple","Watermelon","cherry","kiwi"],e=Math.floor(Math.random()*t.length),o=t[e].toUpperCase(),l=Array.from(o,()=>""),c=Array.from({length:26},(n,h)=>String.fromCharCode(65+h)).map(n=>({letter:n,isPass:void 0}));return{incorrectAttempts:0,answer:o,answerTemp:l,alphabet:c,ctx:{},params:{text:"정답입니다."},isAlert:!1,canvas:{},isLoading:!1}},mounted(){this.canvas=this.$refs.hangmanCanvas,this.canvas&&(this.ctx=this.canvas.getContext("2d"),this.ctx.moveTo(20,0),this.ctx.lineTo(20,200),this.ctx.stroke())},methods:{async getDate(){try{this.isLoading=!0;const t=await fetch("https://main--taupe-beijinho-5f10a6.netlify.app/.netlify/functions/rand-word",{method:"get"}).then(e=>e.json());if(console.log(t),t.success!==!0){this.isLoading=!1;return}this.answer=t.data.toUpperCase(),this.answerTemp=Array.from(this.answer,()=>""),this.isLoading=!1}catch{this.isLoading=!1}},drawHangman(){this.incorrectAttempts>=1&&(this.ctx.moveTo(20,0),this.ctx.lineTo(150,0),this.ctx.stroke()),this.incorrectAttempts>=2&&(this.ctx.moveTo(100,0),this.ctx.lineTo(100,20),this.ctx.stroke()),this.incorrectAttempts>=3&&(this.ctx.beginPath(),this.ctx.arc(100,40,20,0,2*Math.PI),this.ctx.stroke(),this.ctx.fillStyle="black",this.ctx.fill()),this.incorrectAttempts>=4&&(this.ctx.moveTo(100,60),this.ctx.lineTo(100,120),this.ctx.stroke()),this.incorrectAttempts>=5&&(this.ctx.moveTo(100,70),this.ctx.lineTo(60,90),this.ctx.stroke()),this.incorrectAttempts>=6&&(this.ctx.moveTo(100,70),this.ctx.lineTo(140,90),this.ctx.stroke()),this.incorrectAttempts>=7&&(this.ctx.moveTo(100,120),this.ctx.lineTo(70,160),this.ctx.stroke()),this.incorrectAttempts>=8&&(this.ctx.moveTo(100,120),this.ctx.lineTo(130,160),this.ctx.stroke())},checkAnswer(t){if([...this.answer].filter((e,o)=>{t.letter.toLowerCase()===e.toLowerCase()&&(t.isPass=!0,this.answerTemp[o]=e)}),!t.isPass){t.isPass=!1,this.incorrectAttempts++,this.drawHangman(),this.incorrectAttempts===8&&(this.params.text="실패했습니다.",this.isAlert=!0);return}this.answerTemp.join("")===this.answer&&(this.params.text="정답입니다.",this.isAlert=!0)},resetCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.moveTo(20,0),this.ctx.lineTo(20,200),this.ctx.stroke(),this.incorrectAttempts=0},resetAlphabet(){for(const t of this.alphabet)t.isPass=void 0},confirm(t){this.isAlert=!t,this.resetCanvas(),this.resetAlphabet(),this.getDate()}}}),F=t=>(_("data-v-e36cd1be"),t=t(),v(),t),U={class:"mt-10"},E={class:"mx-auto",ref:"hangmanCanvas",width:"150",height:"200"},G=F(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"3"},[s("line",{x1:"0",y1:"0",x2:"100%",y2:"0",stroke:"black","stroke-width":"3"})],-1)),O={class:"input-box mb-8 mt-5"},R=["value"],W={class:"letter-box"},q=["disabled","onClick"];function J(t,e,o,l,c,n){const h=f("c-loading"),g=f("CAlert");return a(),r(p,null,[A(k(h,null,null,512),[[b,t.isLoading]]),t.isAlert?(a(),C(g,{key:0,params:t.params,onConfirm:t.confirm},null,8,["params","onConfirm"])):T("",!0),s("section",U,[s("canvas",E,null,512),G,s("div",O,[(a(!0),r(p,null,u(t.answerTemp,(i,d)=>(a(),r("input",{type:"text",class:"answer-input",disabled:"",value:i,key:d},null,8,R))),128))]),s("div",W,[(a(!0),r(p,null,u(t.alphabet,i=>(a(),r("button",{key:i.letter,class:$([{fail:i.isPass===!1},{pass:i.isPass}]),disabled:i.isPass===!1||i.isPass,onClick:d=>t.checkAnswer(i)},x(i.letter),11,q))),128))])])],64)}const Q=m(V,[["render",J],["__scopeId","data-v-e36cd1be"]]);export{Q as default};
